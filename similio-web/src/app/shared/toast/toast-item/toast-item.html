<div
  class="relative pointer-events-auto overflow-hidden bg-white shadow-xl transition-all duration-500 ease-out transform
         w-full md:w-auto md:min-w-[380px] md:max-w-[450px]
         border-l-[6px] border-gray-100

         /* ZMIANA TUTAJ: */
         rounded-none md:rounded-lg"

  [class.border-l-emerald-500]="toast.type === 'success'"
  [class.border-l-rose-500]="toast.type !== 'success'"
  [class.opacity-100]="toast.visible"
  [class.translate-y-0]="toast.visible"
  [class.md:translate-x-0]="toast.visible"
  [class.opacity-0]="!toast.visible"
  [class.translate-y-12]="!toast.visible"
  [class.md:translate-y-0]="!toast.visible"
  [class.md:translate-x-full]="!toast.visible"
>

  <div class="flex items-start p-4 gap-4">
    <div class="shrink-0 rounded-full p-2"
         [class.bg-emerald-50]="toast.type === 'success'"
         [class.bg-rose-50]="toast.type !== 'success'">

      @if (toast.type === 'success') {
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      } @else {
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-rose-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
        </svg>
      }
    </div>

    <div class="flex-1 pt-1">
      <h3 class="text-sm font-bold"
          [class.text-emerald-700]="toast.type === 'success'"
          [class.text-rose-700]="toast.type !== 'success'">
        {{ toast.type === 'success' ? 'Sukces' : 'Wystąpił błąd' }}
      </h3>

      <p class="mt-1 text-sm text-gray-600 leading-relaxed font-medium">
        {{ toast.message }}
      </p>
    </div>

    <button
      (click)="onClose()"
      class="shrink-0 -mt-1 -mr-1 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors"
      type="button">
      <span class="sr-only">Zamknij</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </button>
  </div>

  <div class="absolute bottom-0 left-0 h-1 w-full bg-gray-100">
    <div
      class="h-full transition-all linear"
      [class.bg-emerald-500]="toast.type === 'success'"
      [class.bg-rose-500]="toast.type !== 'success'"
      [style.width.%]="toast.visible ? 0 : 100"
      [style.transition-duration]="toast.visible ? '3000ms' : '0ms'"
      [style.transition-timing-function]="'linear'"
    >
    </div>
  </div>

</div>
