<div class="flex items-center justify-center p-4 font-sans animate-in fade-in duration-500">
  <div class="w-full max-w-lg bg-white p-2">

    <div class="mb-8">
      <button
        type="button"
        (click)="loginClick.emit()"
        class="flex items-center text-[#002f34] opacity-70 hover:opacity-100 transition-all text-sm font-semibold mb-6 cursor-pointer focus:outline-none group">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Powrót do logowania
      </button>

      <div class="text-left">
        <h1 class="text-2xl font-bold text-[#002f34]">Resetowanie hasła</h1>
        <p class="text-gray-500 mt-1 text-sm font-light">
          Wpisz swój adres e-mail, a wyślemy Ci instrukcje resetowania hasła.
        </p>
      </div>
    </div>

    @if (isEmailSent()) {
      <div class="mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded-r-md animate-in slide-in-from-top-2">
        <div class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div>
            <h3 class="text-green-800 font-bold text-sm">Wysłano wiadomość</h3>
            <p class="text-green-700 text-sm mt-1">
              Jeśli podany adres e-mail istnieje w naszej bazie, otrzymasz link do resetowania hasła. Sprawdź swoją skrzynkę odbiorczą (oraz folder SPAM).
            </p>
          </div>
        </div>
      </div>
    }

    @if (!isEmailSent()) {
      <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-6 animate-in fade-in">

        <app-input-field
          label="Adres e-mail"
          placeholder="twoj@email.com"
          [control]="getControl('email')">
        </app-input-field>

        <app-button
          type="submit"
          [disabled]="isLoading() || form.invalid"
          [fullWidth]="true"
          extraClass="py-4 mt-4"
          [isLoading]="isLoading()"
        >
          Wyślij link do resetowania
        </app-button>

      </form>
    } @else {
      <div class="mt-6">
        <app-button
          variant="secondary"
          [fullWidth]="true"
          (click)="loginClick.emit()">
          Wróć do logowania
        </app-button>
      </div>
    }

  </div>
</div>
